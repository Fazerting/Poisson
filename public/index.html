<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
        <title>FISH Controller</title>
        <meta name="viewport" content="width=400px" />

        <script src="socket.io/socket.io.js"></script>

        <script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
        <script type="text/javascript" src="js/underscore-min.js"></script>
        <script type="text/javascript" src="js/backbone-min.js"></script>
        <script type="text/javascript" src="js/joystick_view.js"></script>

        <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div style="text-align:center">
    <input type="button" value="&uArr;" onClick="deplace(1)">
    </div>
    <div style="text-align:center">
    <input type="button" value="&lArr;" onClick="deplace(2)">
    <input type="button" value="STOP" onClick="deplace(0)">

    <input type="button" value="&rArr;" onClick="deplace(3)">
    </div>

    <script type="text/javascript">
            var socket = io.connect();

            socket.on('led', function (data) {

            });
            function deplace(x){
              socket.emit('deplacer',x);
            }

            function changerMode(){
              console.log("On change le mode");
              socket.emit('mode',1)
            }
            socket.on('modeactuel', function (data) {
              if (data){
                console.log("Le mode est maintenant automatique");
              }
              else{
                console.log("Le mode est maintenant manuel");
              }
            });
            function showValue(newValue)
            {
                    document.getElementById("xVal").innerHTML=newValue;
                    socket.emit('led', { value: newValue });
            }

    </script>
    <input type="range" id= "inputSlider" min="500" max="2500" value="1500" step="200" oninput="showValue(this.value)" />

    <br><br><span id="outputText">50</span>

    <script type="text/javascript">
            var socket = io.connect();

            function showValue(newValue)
            {
                    document.getElementById("xVal").innerHTML=newValue;
                    socket.emit('led', { value: newValue });
            }

    </script>

    <button onclick="changerMode()" />

  </body>
</html>
